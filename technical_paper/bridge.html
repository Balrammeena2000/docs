<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Crosschain Bridge</title>
    <meta name="generator" content="VuePress 1.4.1">
    
    <meta name="description" content="Build Your Own Staking Economy">
    <link rel="preload" href="/assets/css/0.styles.f317dd00.css" as="style"><link rel="preload" href="/assets/js/app.4d2cb49e.js" as="script"><link rel="preload" href="/assets/js/2.e08193f9.js" as="script"><link rel="preload" href="/assets/js/35.6d46379f.js" as="script"><link rel="prefetch" href="/assets/js/10.fbb7a08c.js"><link rel="prefetch" href="/assets/js/11.b5984e93.js"><link rel="prefetch" href="/assets/js/12.e9659f9f.js"><link rel="prefetch" href="/assets/js/13.82e3658c.js"><link rel="prefetch" href="/assets/js/14.0fa705e1.js"><link rel="prefetch" href="/assets/js/15.88c73b09.js"><link rel="prefetch" href="/assets/js/16.eafe6836.js"><link rel="prefetch" href="/assets/js/17.fb5dfa13.js"><link rel="prefetch" href="/assets/js/18.2149fdea.js"><link rel="prefetch" href="/assets/js/19.801a6c02.js"><link rel="prefetch" href="/assets/js/20.c173d47a.js"><link rel="prefetch" href="/assets/js/21.b27f4d05.js"><link rel="prefetch" href="/assets/js/22.a2fcd7fe.js"><link rel="prefetch" href="/assets/js/23.5a1095e9.js"><link rel="prefetch" href="/assets/js/24.b3528214.js"><link rel="prefetch" href="/assets/js/25.af34d725.js"><link rel="prefetch" href="/assets/js/26.39582bd8.js"><link rel="prefetch" href="/assets/js/27.a959cd0c.js"><link rel="prefetch" href="/assets/js/28.ba71a2db.js"><link rel="prefetch" href="/assets/js/29.01f596f9.js"><link rel="prefetch" href="/assets/js/3.cdfcedae.js"><link rel="prefetch" href="/assets/js/30.91f51ffb.js"><link rel="prefetch" href="/assets/js/31.c131116e.js"><link rel="prefetch" href="/assets/js/32.27276152.js"><link rel="prefetch" href="/assets/js/33.a4385887.js"><link rel="prefetch" href="/assets/js/34.1463187a.js"><link rel="prefetch" href="/assets/js/36.9fcd6b2f.js"><link rel="prefetch" href="/assets/js/37.fdc3a364.js"><link rel="prefetch" href="/assets/js/38.eec0ac62.js"><link rel="prefetch" href="/assets/js/39.1dd19c7b.js"><link rel="prefetch" href="/assets/js/4.d9591209.js"><link rel="prefetch" href="/assets/js/40.b84228f1.js"><link rel="prefetch" href="/assets/js/41.a0f82bcc.js"><link rel="prefetch" href="/assets/js/42.f22cf023.js"><link rel="prefetch" href="/assets/js/43.a2fe2d43.js"><link rel="prefetch" href="/assets/js/44.31367d06.js"><link rel="prefetch" href="/assets/js/45.bd3b48f0.js"><link rel="prefetch" href="/assets/js/46.58623a36.js"><link rel="prefetch" href="/assets/js/47.6a43a47b.js"><link rel="prefetch" href="/assets/js/48.7de9ec08.js"><link rel="prefetch" href="/assets/js/49.690b1484.js"><link rel="prefetch" href="/assets/js/5.8b3b99fd.js"><link rel="prefetch" href="/assets/js/50.58510936.js"><link rel="prefetch" href="/assets/js/51.5d46807c.js"><link rel="prefetch" href="/assets/js/52.e2641a2f.js"><link rel="prefetch" href="/assets/js/53.d5895bf1.js"><link rel="prefetch" href="/assets/js/6.f26b2dfe.js"><link rel="prefetch" href="/assets/js/7.9caebd06.js"><link rel="prefetch" href="/assets/js/8.090cb55e.js"><link rel="prefetch" href="/assets/js/9.5260492b.js">
    <link rel="stylesheet" href="/assets/css/0.styles.f317dd00.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/logo.svg" alt="" class="logo"> <!----></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/white_paper/" class="nav-link">
  White Paper
</a></div><div class="nav-item"><a href="/technical_paper/" class="nav-link router-link-active">
  Technical Paper
</a></div><div class="nav-item"><a href="/lite_paper_v1/" class="nav-link">
  Peanut Lite Paper
</a></div><div class="nav-item"><a href="/donut/" class="nav-link">
  Donut
</a></div> <a href="https://github.com/nutbox-dao/docs" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/white_paper/" class="nav-link">
  White Paper
</a></div><div class="nav-item"><a href="/technical_paper/" class="nav-link router-link-active">
  Technical Paper
</a></div><div class="nav-item"><a href="/lite_paper_v1/" class="nav-link">
  Peanut Lite Paper
</a></div><div class="nav-item"><a href="/donut/" class="nav-link">
  Donut
</a></div> <a href="https://github.com/nutbox-dao/docs" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><a href="/technical_paper/background.html" class="sidebar-link">Background</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/technical_paper/background.html#nutbox-contracts" class="sidebar-link">Nutbox Contracts</a></li><li class="sidebar-sub-header"><a href="/technical_paper/background.html#nutbox-parachain" class="sidebar-link">Nutbox Parachain</a></li></ul></li><li><a href="/technical_paper/ocsp.html" class="sidebar-link">Open Community Staking Protocol(OCSP) Contract</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/technical_paper/ocsp.html#contract-topology" class="sidebar-link">Contract Topology</a></li><li class="sidebar-sub-header"><a href="/technical_paper/ocsp.html#multi-chain-ttoken" class="sidebar-link">Multi-Chain tToken</a></li><li class="sidebar-sub-header"><a href="/technical_paper/ocsp.html#community-token-ctoken-mining-distribution" class="sidebar-link">Community Token(cToken) Mining &amp; Distribution</a></li></ul></li><li><a href="/technical_paper/bridge.html" class="active sidebar-link">Crosschain Bridge</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/technical_paper/bridge.html#what-is-crosschain-bridge" class="sidebar-link">What Is Crosschain Bridge</a></li><li class="sidebar-sub-header"><a href="/technical_paper/bridge.html#light-trustless-blokchain-state-verification-ltbsv" class="sidebar-link">Light Trustless Blokchain State Verification(LTBSV)</a></li></ul></li><li><a href="/technical_paper/parachain.html" class="sidebar-link">Nutbox As Parachain</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/technical_paper/parachain.html#nutbox-collator" class="sidebar-link">Nutbox Collator</a></li><li class="sidebar-sub-header"><a href="/technical_paper/parachain.html#xcm-based-transfer" class="sidebar-link">XCM Based Transfer</a></li></ul></li><li><a href="/technical_paper/price_oracle.html" class="sidebar-link">Asset Price Oracle</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/technical_paper/price_oracle.html#price-oracle-algorithm" class="sidebar-link">Price Oracle Algorithm</a></li><li class="sidebar-sub-header"><a href="/technical_paper/price_oracle.html#offchain-worker-based-price-oracle-flow" class="sidebar-link">Offchain Worker Based Price Oracle Flow</a></li></ul></li><li><a href="/technical_paper/governance_contracts.html" class="sidebar-link">Nutbox Governance Contracts</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/technical_paper/governance_contracts.html#democracy" class="sidebar-link">Democracy</a></li><li class="sidebar-sub-header"><a href="/technical_paper/governance_contracts.html#collective" class="sidebar-link">Collective</a></li><li class="sidebar-sub-header"><a href="/technical_paper/governance_contracts.html#elections" class="sidebar-link">Elections</a></li><li class="sidebar-sub-header"><a href="/technical_paper/governance_contracts.html#membership" class="sidebar-link">Membership</a></li><li class="sidebar-sub-header"><a href="/technical_paper/governance_contracts.html#treasury" class="sidebar-link">Treasury</a></li><li class="sidebar-sub-header"><a href="/technical_paper/governance_contracts.html#multisig" class="sidebar-link">Multisig</a></li><li class="sidebar-sub-header"><a href="/technical_paper/governance_contracts.html#sudo" class="sidebar-link">Sudo</a></li></ul></li><li><a href="/technical_paper/references.html" class="sidebar-link">References</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="crosschain-bridge"><a href="#crosschain-bridge" class="header-anchor">#</a> Crosschain Bridge</h1> <p>Nutbox needs to handle the bi-directional transfer of assets in multiple blockchain networks. Since different blockchain networks have different block consensus algorithms and block verification logic, Nutbox needs to verify the legitimacy of transactions in each blockchain network to achieve cross-chain asset staking.Nutbox's cross-chain bridge service is specifically used for data verification of different blockchain networks and as an infrastructure for cross-chain asset transfer.</p> <h2 id="what-is-crosschain-bridge"><a href="#what-is-crosschain-bridge" class="header-anchor">#</a> What Is Crosschain Bridge</h2> <p>A cross-chain bridge is a technical means to communicate between two different blockchain networks. Through the cross-chain bridge, users can transfer assets in different blockchain networks. For example, if a user exchanges 1BTC for ERC20 assets xBTC on Ethereum (if 1BTC = 1xBTC), the user's Bitcoin account will be reduced by 1BTC, and at the same time the ERC20 assets under the user's account in the Ethereum network will increase by 1xBTC.Users can exchange ERC20 assets into BTC at some point in the future.The cross-chain bridge technology has multiple implementation methods according to different application scenarios, and the technical implementation details and degree of decentralization of each method are different. Nutbox adopts cross-chain bridge technology based on LTBSV (as below) to realize the transfer of cross-chain assets and the verification of block data.</p> <h2 id="light-trustless-blokchain-state-verification-ltbsv"><a href="#light-trustless-blokchain-state-verification-ltbsv" class="header-anchor">#</a> Light Trustless Blokchain State Verification(LTBSV)</h2> <p><img src="http://wherein.mobi/wp-content/uploads/2021/05/peanut123.png" alt="Image text"></p> <p>LTBSV is different from the full nodes in the blockchain network. It does not need to store the entire block data, nor does it need to verify every transaction in the block. The only difference from the light node is that it does not need to have a wallet function, which means, it does not need to store any user's transfer information, and it does not need to maintain an account balance based on the UTXO ledger model like Bitcoin. LTBSV includes the following components:</p> <h3 id="block-fetcher"><a href="#block-fetcher" class="header-anchor">#</a> Block Fetcher</h3> <p>Get the latest block data from any third party without trusting the third-party data source. Usually only need to provide Block Fetcher corresponding to the full node link of the blockchain network, Block Fetcher will poll the latest block according to the set frequency. If for some reason Block Fetcher is suspended and restarted, it will still obtain all block data up to the latest block of the network based on the block height from the latest block verified last time and verify the legitimacy of each block one by one. If the new block data cannot match the original block data, the verification will fail.</p> <h3 id="block-validator"><a href="#block-validator" class="header-anchor">#</a> Block Validator</h3> <p>Block Validator is responsible for the verification of block data. Since LTBSV does not care about every transaction in the block, it only cares about the transactions related to the proxy contract to some extent, as a result, LTBSV only verifies the block header in combination with the Merkle Root Hash of the transaction. In light nodes, all block headers need to be stored, that is, when the node is started, all previous block headers need to be synchronized. Even just synchronizing the headers would take several hours for most existing blockchain networks. LTBSV uses the Check Point mechanism, which was first introduced in the Bitcoin system. The Bitcoin wallet electrum uses the Check Point mechanism [11] , that is, developers hard-code the verified block header in advance. In the Bitcoin system, due to the difficulty, the value is adjusted every 2016 blocks, therefore, only the block hash with the block height of 2016  * n { n = 1,2,3,,,n } and the corresponding difficulty value [12]  are needed to encode the block height. After adopting the Check Point mechanism, the verification of the latest block can be completed within a few minutes after LTBSV is started.</p> <h3 id="deposit-proof"><a href="#deposit-proof" class="header-anchor">#</a> Deposit Proof</h3> <p><img src="http://wherein.mobi/wp-content/uploads/2021/05/peanut1234.png" alt="Image text"></p> <p>The user then submits a deposit proof to the TEG module for verification. The TEG module will analyze the block height of the user's staking transaction and compare it with the current height. If the current height is not below the set confirmation block height, the transaction will fail. After the verification is passed, the equal amount of tToken will be distributed to the user's Nutbox account.</p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/nutbox-dao/docs/edit/master/book/technical_paper/bridge.md" target="_blank" rel="noopener noreferrer">Edit this page</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">5/4/2021, 3:44:56 AM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/technical_paper/ocsp.html" class="prev">
        Open Community Staking Protocol(OCSP) Contract
      </a></span> <span class="next"><a href="/technical_paper/parachain.html">
        Nutbox As Parachain
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.4d2cb49e.js" defer></script><script src="/assets/js/2.e08193f9.js" defer></script><script src="/assets/js/35.6d46379f.js" defer></script>
  </body>
</html>
